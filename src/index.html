<!DOCTYPE html>
<html>
  <head>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.11.11/lib/p5.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.11.11/lib/addons/p5.sound.min.js"></script>
    <style>
      body {
        margin: 0;
        padding: 0;
        height: 100vh;
        overflow: hidden;
        display: flex;
        justify-content: center;
        align-items: center;
      }
    </style>
  </head>
  <body>
    <script>
      const url = new URLSearchParams(window.location.search).get('tool');
      if (url) {
        const allowedOrigins = ['https://whatever-dev-ws.github.io'];
        try {
          const toolUrl = new URL(url);
          if (!allowedOrigins.includes(toolUrl.origin)) {
            throw new Error(`Origin "${toolUrl.origin}" is not allowed. Allowed origins: ${allowedOrigins.join(', ')}`);
          }
          const script = document.createElement('script');
          script.src = toolUrl.href;
          document.body.appendChild(script);
        } catch (e) {
          const errorDiv = document.createElement('div');
          errorDiv.style.cssText =
            'padding: 20px; color: #d32f2f; font-family: system-ui, -apple-system, sans-serif; text-align: center;';
          errorDiv.innerHTML = `<h2>Error Loading Tool</h2><p>${e.message}</p>`;
          document.body.appendChild(errorDiv);
        }
      }
    </script>
  </body>
</html>
